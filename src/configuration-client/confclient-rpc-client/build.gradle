plugins {
    id 'java-library'
    alias(libs.plugins.protobuf)
    alias(libs.plugins.jandex)
}



dependencies {
    api project(':common:common-core')
    api project(':common:common-rpc')
    api project(":configuration-client:confclient-model")

    implementation(platform(libs.springBoot.bom))
    implementation("org.springframework.boot:spring-boot-starter")
//    implementation(libs.quarkus.springBoot.di)
}

protobuf {
    protoc { artifact = libs.protobuf.protoc.get().toString() }
    plugins {
        grpc { artifact = libs.grpc.protocGenGrpcJava.get().toString() }
    }
    generateProtoTasks {
        all()*.plugins { grpc { option('@generated=omit') } }
    }
}

compileJava.dependsOn generateProto
