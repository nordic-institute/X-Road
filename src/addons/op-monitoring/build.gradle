plugins {
    id("xroad.java-conventions")
    id("xroad.java-exec-conventions")
}

dependencies {
    implementation project(':common:common-op-monitoring')

    implementation project(':proxy:core')
    implementation project(':common:common-domain')
    implementation project(':common:common-message')
    implementation project(":lib:serverconf-impl")
    implementation project(':common:common-jetty')

    testImplementation project(':common:common-test')
    testImplementation libs.commons.cli
}

tasks.register('runOpMonitoringBufferMemoryUsage', JavaExec) {
    mainClass = 'ee.ria.xroad.proxy.opmonitoring.OpMonitoringBufferMemoryUsage'
    classpath = sourceSets.test.runtimeClasspath
}
