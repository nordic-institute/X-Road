plugins {
    id("xroad.java-conventions")
    alias(libs.plugins.jandex)
}

dependencies {
    implementation(platform(libs.quarkus.bom))

    implementation project(':common:common-core')
    implementation project(':common:common-domain')
    implementation project(':lib:globalconf-spring')
    implementation project(':lib:serverconf-spring')
    implementation(project(':proxy:proxy-rpc-client'))
    implementation project(':monitor-common')
    implementation project(':signer-protocol')


    implementation libs.quarkus.scheduler

    implementation libs.slf4j.api
    implementation libs.bundles.metrics

    testImplementation project(':common:common-test')
    testImplementation libs.mockito.core
}

jar {
    archiveBaseName = 'monitor-core'
}

test {
    useJUnitPlatform()
}

tasks.named('checkstyleMain').configure {
    dependsOn('jandex')
}
