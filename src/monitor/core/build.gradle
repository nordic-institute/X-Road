plugins {
    id 'java-library'
    alias(libs.plugins.jandex)
}

dependencies {
    implementation(platform(libs.quarkus.bom))

    implementation project(':common:common-core')
    implementation project(':common:common-domain')
    implementation project(':common:common-verifier')
    implementation(project(':proxy:proxy-rpc-client'))
    implementation project(':monitor-common')
    implementation project(':signer-protocol')
    implementation project(':serverconf')
    implementation('org.springframework:spring-context-support')

    implementation libs.quarkus.scheduler

    implementation libs.slf4j.api
    implementation libs.bundles.metrics

    testImplementation project(':common:common-test')
    testImplementation libs.mockito.core
}

jar {
    archiveBaseName = 'monitor-core'
}

test {
    useJUnitPlatform()
}

tasks.named('checkstyleMain').configure {
    dependsOn('jandex')
}
